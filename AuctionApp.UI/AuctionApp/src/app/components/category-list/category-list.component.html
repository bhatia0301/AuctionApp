<div class="container my-4">
  <div *ngIf="loading" class="text-center">
    <div class="loader"></div>
  </div>
  <div *ngIf="!loading">
    <div class="row">
      <div class="col-md-8">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h3 class="text-primary text-center flex-grow-1">Categories</h3>
        </div>
        <div class="d-flex justify-content-center">
          <table class="table table-bordered table-striped table-hover w-100">
            <thead class="thead-dark">
              <tr>
                <th scope="col">S.No</th>
                <th scope="col">Name</th>
                <th scope="col">Created At</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let category of categories; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ category.name }}</td>
                <td>{{ category.createdAt | date: 'dd MMMM yyyy' }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div *ngIf="categories.length === 0" class="alert alert-info text-center">
          No categories found.
        </div>
      </div>
      <div class="col-md-4">
        <h3 class="text-center text-primary mb-3">Create Category</h3>
        <form #createcategoryform="ngForm" (ngSubmit)="addCategory(createcategoryform)" novalidate>
          <div class="form-group mb-2">
            <input type="text" id="categoryName" class="form-control form-control-sm" [(ngModel)]="newCategory.name"
              name="categoryName" placeholder="Category Name" pattern="^[a-zA-Z\s]+$" #categoryName="ngModel"
              required />
            <div *ngIf="categoryName.invalid && (categoryName.dirty || categoryName.touched)"
              class="invalid-feedback d-block">
              <div *ngIf="categoryName.errors?.['required']">Category name is required.</div>
              <div *ngIf="categoryName.errors?.['pattern']">Category name should only contain alphabets and spaces.
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-danger w-100 btn-sm" [disabled]="createcategoryform.invalid">Add</button>
        </form>
      </div>
    </div>
  </div>
</div>